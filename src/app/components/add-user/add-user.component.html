<div class="container">
    <h1>Add New user</h1>
    <form (ngSubmit)="addUserData()" [formGroup]="userForm">
        <div class="form-group">
            <div class="row">
                <div class="col-md-6">
                    <label>First Name</label>
                    <input type="text" class="form-control shadow-none" formControlName="first_name">
                    <div *ngIf="first_name.invalid && (first_name.dirty || first_name.touched)" class="text-danger p-0">
                        <div *ngIf="first_name.errors.required" class="p-0 pt-2">
                            First Name is required.
                        </div>
                        <div *ngIf="first_name.errors.minlength" class="p-0 pt-2">
                            First name must be greater than 3 characters.
                        </div>
                        <div *ngIf="first_name.errors.maxlength" class="p-0 pt-2">
                            First name must be less than 30 characters.
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <label>Last Name</label>
                    <input type="text" class="form-control shadow-none" formControlName="last_name">
                    <div *ngIf="last_name.invalid && (last_name.dirty || last_name.touched)" class="text-danger p-0">
                        <div *ngIf="last_name.errors.required" class="p-0 pt-2">
                            Last Name is required.
                        </div>
                        <div *ngIf="last_name.errors.minlength" class="p-0 pt-2">
                            Last name must be greater than 3 characters.
                        </div>
                        <div *ngIf="last_name.errors.maxlength" class="p-0 pt-2">
                            Last name must be less than 30 characters.
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="row">
                <div class="col-md-6">
                    <label>Email</label>
                    <input type="email" class="form-control shadow-none" formControlName="email">
                    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger p-0">
                        <div *ngIf="email.errors.required" class="p-0 pt-2">
                            Email is required.
                        </div>
                        <div *ngIf="email.errors.pattern" class="p-0 pt-2">
                           Please enter proper mail id.
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <label>Phone Number</label>
                    <input type="text" class="form-control shadow-none" formControlName="phone">
                    <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="text-danger p-0">
                        <div *ngIf="phone.errors.required" class="p-0 pt-2">
                            Phone number is required.
                        </div>
                        <div *ngIf="phone.errors.pattern" class="p-0 pt-2">
                           Please enter proper phone number.
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <input type="file" id="custom-file-upload" class="d-none" (change)="onFileSelect($event)" accept="image/*">
            <div class="d-flex">
                <label for="custom-file-upload" class="w-100 m-0 mr-3 border p-2 rounded">
                    <span *ngIf="!profileImage">Upload profile picture</span>
                    <span *ngIf="profileImage">{{profileImage?.name}}</span>
                </label>
                <button mat-raised-button class="btn-secondary" type="button" (click)="onUpload()">Uplaod</button>
            </div>
        </div>
        <div *ngIf="selectImage" class="my-3">
            <img src="{{imageBasePath}}{{selectImage}}" width="100">
        </div>
        <div class="form-group">
            <button mat-raised-button class="btn-secondary mr-3" type="submit" *ngIf="!data?._id">Add</button>
            <button mat-raised-button class="btn-secondary mr-3" type="button" *ngIf="data?._id" (click)="updateUser()">Update</button>
            <button mat-raised-button class="btn-danger" type="button" (click)="closeDialog()">Close</button>
        </div>
    </form>
</div>